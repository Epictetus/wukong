#!/usr/bin/env bash

#
# Documentation for hadoop fs -rmr says "acts just like Unix rm -rf command". If this
# is true then we need to ignore directories that don't exist and still return 0.
#
if [ "$1" == "-r" ] ; then
    shift
    hadoop fs -test -e "$@"
    if [ "$?" == "0" ] ; then
      # echo "File exists, removing it..."
      echo hadoop dfs -rmr "$@"
      exec hadoop dfs -rmr "$@"
    fi
else
    echo hadoop dfs -rm "$@"
    exec hadoop dfs -rm "$@"
fi
